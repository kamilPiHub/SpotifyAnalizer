{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kvmil\\\\Desktop\\\\SpotifyAnalyzer\\\\SpotifyAnalizer\\\\main\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Dashboard from './Dashboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginView = () => {\n  const LOGIN_URL = 'http://127.0.0.1:5000/login';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: '100vh',\n      backgroundColor: '#191414',\n      color: 'white'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        fontSize: '3rem',\n        marginBottom: '2rem'\n      },\n      children: \"Spotify Analyzer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginBottom: '2.5rem'\n      },\n      children: \"Zaloguj si\\u0119, aby zobaczy\\u0107 swoje statystyki.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: LOGIN_URL,\n      style: {\n        padding: '15px 30px',\n        borderRadius: '50px',\n        backgroundColor: '#1DB954',\n        color: 'white',\n        textDecoration: 'none',\n        fontWeight: 'bold',\n        fontSize: '1rem'\n      },\n      children: \"ZALOGUJ SI\\u0118 PRZEZ SPOTIFY\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n};\n_c = LoginView;\nfunction App() {\n  _s();\n  const [isLoading, setIsLoading] = useState(true);\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const res = await fetch('/api/profile', {\n          credentials: 'include'\n        });\n        if (res.ok) {\n          const userData = await res.json();\n          setUser(userData);\n        } else {\n          setUser(null);\n        }\n      } catch (error) {\n        console.error(\"Błąd podczas sprawdzania autoryzacji:\", error);\n        setUser(null);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    checkAuth();\n  }, []);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        color: 'white',\n        paddingTop: '5rem'\n      },\n      children: \"Sprawdzanie autoryzacji...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 12\n    }, this);\n  }\n  return user ? /*#__PURE__*/_jsxDEV(Dashboard, {\n    user: user\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 17\n  }, this) : /*#__PURE__*/_jsxDEV(LoginView, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 45\n  }, this);\n}\n_s(App, \"lERfUzPGqt89MjfbhJg1c9ojYM4=\");\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"LoginView\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Dashboard","jsxDEV","_jsxDEV","LoginView","LOGIN_URL","style","display","flexDirection","alignItems","justifyContent","height","backgroundColor","color","children","fontSize","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","href","padding","borderRadius","textDecoration","fontWeight","_c","App","_s","isLoading","setIsLoading","user","setUser","checkAuth","res","fetch","credentials","ok","userData","json","error","console","textAlign","paddingTop","_c2","$RefreshReg$"],"sources":["C:/Users/kvmil/Desktop/SpotifyAnalyzer/SpotifyAnalizer/main/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Dashboard from './Dashboard';\n\nconst LoginView = () => {\n  const LOGIN_URL = 'http://127.0.0.1:5000/login';\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', height: '100vh', backgroundColor: '#191414', color: 'white' }}>\n      <h1 style={{ fontSize: '3rem', marginBottom: '2rem' }}>Spotify Analyzer</h1>\n      <p style={{ marginBottom: '2.5rem' }}>Zaloguj się, aby zobaczyć swoje statystyki.</p>\n      <a href={LOGIN_URL} style={{ padding: '15px 30px', borderRadius: '50px', backgroundColor: '#1DB954', color: 'white', textDecoration: 'none', fontWeight: 'bold', fontSize: '1rem' }}>\n        ZALOGUJ SIĘ PRZEZ SPOTIFY\n      </a>\n    </div>\n  );\n};\n\nfunction App() {\n  const [isLoading, setIsLoading] = useState(true);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const res = await fetch('/api/profile', { credentials: 'include' });\n        if (res.ok) {\n          const userData = await res.json();\n          setUser(userData);\n        } else {\n          setUser(null);\n        }\n      } catch (error) {\n        console.error(\"Błąd podczas sprawdzania autoryzacji:\", error);\n        setUser(null);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    checkAuth();\n  }, []);\n\n  if (isLoading) {\n    return <div style={{textAlign: 'center', color: 'white', paddingTop: '5rem'}}>Sprawdzanie autoryzacji...</div>;\n  }\n\n  return user ? <Dashboard user={user} /> : <LoginView />;\n}\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}